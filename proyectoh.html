<!DOCTYPE html>
<html>
<body bgcolor="339999">
  
<title> CONTROL DE CUARTO</title>
<h1 align="center" ><marque>  B I E N V E N I D O </marque></h1>
<h1 align="center">  E R I C K  </h1>
<MARQUEE BGCOLOR="#FF7070">  NO SE  TE  OLVIDE TOMAR AGUA Y LAS LLAVES AL SALIR :)</MARQUEE>
<label for="start">Start date:</label>

<input type="date" id="start" 
       value="2021-01-1"
       min="2021-01-01 max="2099-12-31">
  <p><input type="checkbox" id="light"><font color = FFFF00> L U C E S </font></p>
  <p><input type="checkbox" id="l"><text> C A R G A D O R   </text></p>
  <p><input type="checkbox" id="cua"><font color = FFFF00> T E L E V I S I O N  </font></p>
  <p><input type="checkbox" id="tel"><text> C O M P U    </text></p>
  
<MARQUEE BGCOLOR="#FF7070">  PONTE CUBREBOCAS AL SALIR, ESTAMOS EN SEMAFORO ROJO</MARQUEE>



<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.0.4/socket.io.js"></script> <!-- include socket.io client side script -->
<script>
var socket = io(); //load socket.io-client and connect to the host that serves the page

window.addEventListener("load", function(){ //when page loads
  var lightbox = document.getElementById("light");
  lightbox.addEventListener("change", function() { //add event listener for when checkbox changes
    socket.emit("light", Number(this.checked)); //send button status to server (as 1 or 0)
  });
    var lightbox2 = document.getElementById("l");
  lightbox2.addEventListener("change", function() { //add event listener for when checkbox changes
    socket.emit("l", Number(this.checked)); //send button status to server (as 1 or 0)
  });
    var lightbox3 = document.getElementById("cua");
  lightbox3.addEventListener("change", function() { //add event listener for when checkbox changes
    socket.emit("cua", Number(this.checked)); //send button status to server (as 1 or 0)
  });
    var lightbox4 = document.getElementById("tel");
  lightbox4.addEventListener("change", function() { //add event listener for when checkbox changes
    socket.emit("tel", Number(this.checked)); //send button status to server (as 1 or 0)
  });
});

socket.on('light', function (data) { //get button status from client
  document.getElementById("light").checked = data; //change checkbox according to push button on Raspberry Pi
  socket.emit("light", data); //send push button status to back to server
});

socket.on('l', function (data) { //get button status from client
  document.getElementById("l").checked = data; //change checkbox according to push button on Raspberry Pi
  socket.emit("l", data); //send push button status to back to server
});

socket.on('cua', function (data) { //get button status from client
  document.getElementById("cua").checked = data; //change checkbox according to push button on Raspberry Pi
  socket.emit("cua", data); //send push button status to back to server
});

socket.on('tel', function (data) { //get button status from client
  document.getElementById("tel").checked = data; //change checkbox according to push button on Raspberry Pi
  socket.emit("tel", data); //send push button status to back to server
});
</script>

</body>
</html>
